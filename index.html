<!doctype html><html lang=en-us>
<head>
<meta name=generator content="Hugo 0.90.0">
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=author content="Vasudha Jha">
<meta name=description content="Guaranteeing immutability of version control system tags using blockchain">
<title>Immutable Tag</title><link rel=stylesheet href=./assets/fonts/SourceSansPro/stylesheet.css>
<link rel=stylesheet href=./assets/css/styles.css>
</head>
<body>
<header id=page-header>
<div id=page-logo-wrapper>
<img id=page-logo alt="Uwe Uwe Logo" src=./assets/img/tag2.gif width=150 height=150>
</div>
<h1 id=page-title>Immutable Tag</h1>
<div id=page-short-desc>Guaranteeing immutability of version control system tags using blockchain</div>
<ul id=page-platform-links class=as-icons-and-text>
<li>
<a href=https://github.com/Immutable-Tag title="Go to Immutable Tag's Github organization">
<img alt="github icon" src=./assets/img/icons-platforms/github-icon.svg width=50 height=50>
<span>GitHub</span>
</a>
</li>
</ul>
</header>
<nav id=page-toc>
<h2>Table of Contents</h2>
<ul>
<li><a href=#what-are-tags>What are tags</a></li>
<li><a href=#why-make-tags-immutable>Why make tags immutable</a></li>
<li><a href=#our-solution>Our solution</a></li>
<li><a href=#scope-of-this-project>Scope of this project</a></li>
<li><a href=#smart-contract>Smart Contract</a></li>
<li><a href=#middleware>Middleware</a></li>
<li><a href=#the-react-app>The React App</a></li>
<li><a href=#application-workflow>Application Workflow</a></li>
<li><a href=#demo>Demo</a></li>
<li><a href=#future-work>Future Work</a></li>
<li><a href=#about-the-team>About the team</a></li>
</ul>
</nav>
<main id=page-content>
<h2 id=what-are-tags>What are tags?</h2>
<p>Version Control Systems (VCS) provide the functionality to tag specific points in a repository’s history as milestones which can be used for a marked version release (i.e. v1.0.1). A tag can be considered as a branch which should not change after being created and mapped to a commit.</p>
<p align=center>
<img src=./assets/img/tags.png alt=tag width=75%>
</p>
<p align=center>
<i>Tags point to commits</i>
</p>
<h2 id=why-make-tags-immutable>Why make tags immutable?</h2>
<p align=center>
<img src=https://imgs.xkcd.com/comics/dependency.png alt=tag width=75%>
</p>
<p align=center>
<i>Original comic: <a href=https://xkcd.com/2347/ target=_blank>https://xkcd.com/2347/</a></i>
</p>
<p>The above comic accurately depicts our modern digital infrastructure where dependencies are stacked upon each other like these blocks, each block supporting the weight of all the blocks above it.</p>
<p>Tags allow software developers to determine which versions of code they can reliably use as dependencies in their projects. Many automation systems rely on tags to build and install dependencies.</p>
<p>Therefore, mutating these tags by changing the commits that they point to can cause:</p>
<ul>
<li>build failures</li>
<li>incompatibilites</li>
<li>bugs</li>
<li>security vulnerabilities</li>
</ul>
<p>in the project and other projects that depend on it.</p>
<p align=center>
<img src=./assets/img/commit_mapping.gif alt=tag width=75%>
</p>
<p align=center>
<i>Mutating a tag can cause issues</i>
</p>
<h2 id=our-solution>Our solution</h2>
<p>Our solution uses the tamper-evident and tamper-resistant nature of
<span class=link-wrapper>
<a href=https://en.wikipedia.org/wiki/Blockchain target=_blank>
blockchain
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
to guarantee tag immutability and provide assurance to users that their products will continue functioning with the same level of reliability.</p>
<div aria-label="notification - info" class="notification info">
<img alt="info icon" src=./assets/img/icons/info-icon.png height=48 width=48>
<div>
If a repository has a tag <code>v1.0.0</code> which points to commit <code>b06cdb0</code>, then it should not be possible to delete or modify it by pointing it to a different commit <code>49a68cd</code>. This way, users who were depending on the changes that were made until commit <code>b06cdb0</code> will not be pointed to the potentially buggy and incompatible commit <code>49a68cd</code>.
</div>
</div>
<p>Our solution leverages blockchain and
<span class=link-wrapper>
<a href=https://en.wikipedia.org/wiki/Smart_contract target=_blank>
smart contracts
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
to:</p>
<ul>
<li>Create tags immutably</li>
<li>Retrieve created tags</li>
</ul>
<p>We have exposed RESTful APIs so that third-party applications can easily use our solution to provide tag immutability.</p>
<p>Since most VCS support the concept of tags, they can make use of our tool-agnostic solution to support tag immutability in their products. Source-code repository hosting services such as
<span class=link-wrapper>
<a href=https://github.com/ target=_blank>
GitHub
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
,
<span class=link-wrapper>
<a href=https://about.gitlab.com/ target=_blank>
GitLab
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
,
<span class=link-wrapper>
<a href=https://bitbucket.org/product target=_blank>
Bitbucket
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
, and
<span class=link-wrapper>
<a href=https://sourceforge.net/ target=_blank>
SourceForge
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
can also provide their users with tag immutability and since these host most of the world’s open-source projects, the benefit can be extended to millions of developers and end-users worldwide.</p>
<p align=center>
<img src=./assets/img/solution.png alt=tag width=100%>
</p>
<p align=center>
<i>Our solution</i>
</p>
<h2 id=scope-of-this-project>Scope of this project</h2>
<p>While our solution is conceptually VCS-agnostic, for the purposes of this project, we have created an immutable tagging system compatible with GitHub, since it is the most popular code hosting platform with easily accessible APIs.</p>
<p align=center>
<img src=./assets/img/architecture.png alt=tag width=100%>
</p>
<p align=center>
<i>Application Architecture</i>
</p>
<p>Our application is made up of three fundamental components:</p>
<ol>
<li>Ethereum Smart Contracts written in Solidity</li>
<li>A Node.js Middleware</li>
<li>Front-end Web Application written using ReactJS</li>
</ol>
<p>In the following sections, we will go through each of these components in detail.</p>
<h2 id=smart-contract>Smart Contract</h2>
<p>We have used
<span class=link-wrapper>
<a href=https://ethereum.org/en/developers/docs/smart-contracts/ target=_blank>
Ethereum smart contracts
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
because of their ease of use and widely available support. Using
<span class=link-wrapper>
<a href=https://docs.soliditylang.org/ target=_blank>
Solidity
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
, a programming language used to code smart contracts in Etheruem, we have created a <code>struct</code> to store all details about tags:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-solidity data-lang=solidity><span style=color:#00f>contract</span> <span style=color:#007575>ImmutableTag</span> {

    <span style=color:#00f>struct</span> <span style=color:#007575>Tag</span> {
        <span style=color:#00f>string</span> repoURL;
        <span style=color:#00f>string</span> tagID;
        <span style=color:#00f>string</span> commitHash;
    }

    ...
}
</code></pre></div><p>We then have a <code>mapping</code> (equivalent to a dictionary or hashtable in other programming languages) of <code>string</code> to <code>Tag</code> objects inside the smart contract:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-solidity data-lang=solidity><span style=color:#00f>mapping</span>(<span style=color:#00f>string</span> =&gt; Tag) <span style=color:#00f>private</span> tags;
</code></pre></div><p>By using a <code>mapping</code> instead of a array, we can look up tags in <code>O(1)</code> time. The key for this mapping is a concatenation of the repository URL and the tag.</p>
<p>For example, if we want to create a tag <code>v1.0.0</code> in the repository <code>https://github.com/Immutable-Tag/SmartContacts</code>, then the key in the <code>mapping</code> will be <code>"https://github.com/Immutable-Tag/SmartContacts_v1.0.0"</code> and the value will be the following <code>Tag</code> object:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-solidity data-lang=solidity>{
    repoURL: <span style=color:#009c00>&#34;https://github.com/Immutable-Tag/SmartContacts&#34;</span>
    tagID: <span style=color:#009c00>&#34;v1.0.0&#34;</span>
    commitHash: <span style=color:#009c00>&#34;66190b9fc987cb12c3a302c84123122e68ef6450&#34;</span>
}
</code></pre></div><p>We have added three functions to support our product functionality:</p>
<ol>
<li><strong>createTag</strong> - This function creates tags to be stored in the Ethereum Blockchain by adding it to the mapping <code>tags</code>. The function accepts the repository URL, tag, and the commit to be associated with the tag as parameters.</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-solidity data-lang=solidity><span style=color:#00f>function</span> <span style=color:#c34e00>createTag</span>(<span style=color:#00f>string</span> <span style=color:#00f>memory</span> _repoURL, <span style=color:#00f>string</span> <span style=color:#00f>memory</span> _tagID, <span style=color:#00f>string</span> <span style=color:#00f>memory</span> _commitHash) <span style=color:#00f>public</span> {
    <span style=color:#00f>string</span> <span style=color:#00f>memory</span> key;
    key = <span style=color:#00f>string</span>(abi.encodePacked(<span style=color:#00f>string</span>(abi.encodePacked(_repoURL, <span style=color:#009c00>&#34;_&#34;</span>)), _tagID));
    tags[key] = Tag(_repoURL, _tagID, _commitHash);
}
</code></pre></div><ol start=2>
<li><strong>getTag</strong> - This function takes a repository URL and tag ID and looks up in the <code>mapping</code> to retrieve the tag&rsquo;s details.</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-solidity data-lang=solidity><span style=color:#00f>function</span> <span style=color:#c34e00>getTag</span>(<span style=color:#00f>string</span> <span style=color:#00f>memory</span> _repoURL, <span style=color:#00f>string</span> <span style=color:#00f>memory</span> _tagID) <span style=color:#00f>public</span> <span style=color:#00f>view</span> <span style=color:#00f>returns</span> (Tag <span style=color:#00f>memory</span>) {
    <span style=color:#00f>string</span> <span style=color:#00f>memory</span> key;
    key = <span style=color:#00f>string</span>(abi.encodePacked(<span style=color:#00f>string</span>(abi.encodePacked(_repoURL, <span style=color:#009c00>&#34;_&#34;</span>)), _tagID));
    <span style=color:#00f>return</span> tags[key];
}
</code></pre></div><ol start=3>
<li><strong>checkTag</strong> - This function checks if a tag already exsits on the blockchain or not. If the tag exists in the <code>mapping</code> then this function returns <code>true</code>, otherwise it returns <code>false</code>.</li>
</ol>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-solidity data-lang=solidity><span style=color:#00f>function</span> <span style=color:#c34e00>checkTag</span>(<span style=color:#00f>string</span> <span style=color:#00f>memory</span> _repoURL, <span style=color:#00f>string</span> <span style=color:#00f>memory</span> _tagID) <span style=color:#00f>public</span> <span style=color:#00f>view</span> <span style=color:#00f>returns</span> (<span style=color:#00f>bool</span>) {
    <span style=color:#00f>string</span> <span style=color:#00f>memory</span> key;
    key = <span style=color:#00f>string</span>(abi.encodePacked(<span style=color:#00f>string</span>(abi.encodePacked(_repoURL, <span style=color:#009c00>&#34;_&#34;</span>)), _tagID));
    <span style=color:#00f>return</span> <span style=color:#00f>bytes</span>(tags[key].commitHash).length != 0;
}
</code></pre></div><p>We are using the
<span class=link-wrapper>
<a href=https://trufflesuite.com/ target=_blank>
Truffle Suite
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
for developing our solution as it provides a development environment, testing framework and asset pipeline for blockchains using the Ethereum Virtual Machine (EVM). It also provides features like built-in Smart Contract compilation, linking, deployment and binary management and automated contract testing. We used
<span class=link-wrapper>
<a href=https://trufflesuite.com/ganache/ target=_blank>
Ganache
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
to simulate an Ethereum blockchain and deployed our smart contract to it.</p>
<p>After writing our smart contract, we deploy it to Ganache, our local blockchain, by running the command <code>truffle migrate</code>. This compiles our Solidity smart contract code to JavaScript and deploys it to Ganache. The output of this deployment looks like this:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text>...
2_tag_contracts.js
==================

   Replacing &#39;ImmutableTag&#39;
   ------------------------
   &gt; transaction hash:    0x0e1ef624894d2a75d2356deac0daf3a077195eff60d1e96452662ce0804c3c5e
   &gt; Blocks: 0            Seconds: 0
   &gt; contract address:    0x5A58B7cAf4609a1c9f7934A0bDBcbeF3B4d27bb8
   &gt; block number:        3
   &gt; block timestamp:     1637725439
   &gt; account:             0x851F4BE5447fbC3e40b50A650584551434D9579F
   &gt; balance:             9999.97973206
   &gt; gas used:            779116 (0xbe36c)
   &gt; gas price:           20 gwei
   &gt; value sent:          0 ETH
   &gt; total cost:          0.01558232 ETH


   &gt; Saving migration to chain.
   &gt; Saving artifacts
   -------------------------------------
   &gt; Total cost:          0.01558232 ETH


Summary
=======
&gt; Total deployments:   2
&gt; Final cost:          0.01942118 ETH
</code></pre></div><p>We use the contract address of the <code>ImmutableTag</code> smart contract (<code>0x5A58B7cAf4609a1c9f7934A0bDBcbeF3B4d27bb8</code> in this case) to invoke it from the middleware. We provide more details about this in the next section.</p>
<p>You can find the entire code and documentation for our smart contract in
<span class=link-wrapper>
<a href=https://github.com/Immutable-Tag/SmartContracts target=_blank>
this GitHub repository
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
.</p>
<h2 id=middleware>Middleware</h2>
<p>Our middleware layer is a RESTful API server built using Node.js. The APIs provided by the server are consumed by our React front-end.</p>
<p>The server also calls GitHub APIs to verify the existence of a commit to which a tag will point, and optionally, to create tags in the GitHub repository using GitHub personal access tokens.</p>
<h3 id=connecting-nodejs-server-to-the-blockchain>Connecting Node.js server to the blockchain</h3>
<p>In the previous section, we described how we deploy our smart contract to Ganache and get a contract address once the deployment succeeds. We use this address to connect the middleware to the smart contract using
<span class=link-wrapper>
<a href=https://web3js.readthedocs.io/ target=_blank>
web3.js
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
and invoke smart contract functions for tag creation and tag retrieval.</p>
<h3 id=creating-a-tag>Creating a Tag</h3>
<p>This API creates a new tag on the blockchain. It first checks if the tag already exists in the blockchain by invoking the <code>checkTag</code> smart contract function. If the tag does not exist, it makes a request to GitHub to verify the existence of the commit that is being mapped to the tag. If the commit is valid, it proceeds to create the tag in the blockchain by invoking the <code>createTag</code> smart contract function. (Please see the previous section on Smart contracts to understand more.)</p>
<p>If a GitHub personal access token is passed to it, then the API also creates the tag in the GitHub repository.</p>
<h4 id=api-endpoint>API endpoint</h4>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http>POST /v1/tags
</code></pre></div><h4 id=parameters>Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>In</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>string</td>
<td>header</td>
<td>application/json</td>
</tr>
<tr>
<td>repo_url</td>
<td>string</td>
<td>body</td>
<td>repository URL</td>
</tr>
<tr>
<td>tag_id</td>
<td>string</td>
<td>body</td>
<td>tag name</td>
</tr>
<tr>
<td>commit_id</td>
<td>string</td>
<td>body</td>
<td>commit hash</td>
</tr>
</tbody>
</table>
<h4 id=example>Example</h4>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>curl -i -X POST <span style=color:#009c00>&#34;http://localhost:5000/v1/tags&#34;</span> <span style=color:#009c00>\
</span><span style=color:#009c00></span>    -H <span style=color:#009c00>&#39;Content-Type: application/json&#39;</span> <span style=color:#009c00>\
</span><span style=color:#009c00></span>    -d <span style=color:#009c00>&#39;{&#34;repo_url&#34;: &#34;https://github.com/Immutable-Tag/SmartContacts&#34;,\
</span><span style=color:#009c00>        &#34;tag_id&#34;: &#34;v1.0.0&#34;,\
</span><span style=color:#009c00>        &#34;commit_id&#34;: &#34;66190b9fc987cb12c3a302c84123122e68ef6450&#34;}&#39;</span>
</code></pre></div><p>Response:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span style=color:#00f>HTTP</span>/1.1 201 Created
X-Powered-By: Express
Content-Type: application/json; charset=utf-8
Content-Length: 39
ETag: W/&#34;27-p5b2vwAQyjd8Enu5ruBWmlgkkzw&#34;
Date: Wed, 24 Nov 2021 04:58:54 GMT
Connection: keep-alive
Keep-Alive: timeout=5

{&#34;message&#34;:<span style=color:#009c00>&#34;Successfully created tag.&#34;</span>}
</code></pre></div><p>If we try to map an existing tag to a different commit, the response looks like:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span style=color:#00f>HTTP</span>/1.1 400 Bad Request
X-Powered-By: Express
Content-Type: application/json; charset=utf-8
Content-Length: 30
ETag: W/&#34;1e-KM94dQmY+pgv0Ecd8L77N5qIs0c&#34;
Date: Wed, 24 Nov 2021 04:58:27 GMT
Connection: keep-alive
Keep-Alive: timeout=5

{&#34;error&#34;:<span style=color:#009c00>&#34;Tag already exists&#34;</span>}
</code></pre></div><p>If the commit doesn&rsquo;t exist, the response looks like:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span style=color:#00f>HTTP</span>/1.1 400 Bad Request
X-Powered-By: Express
Content-Type: application/json; charset=utf-8
Content-Length: 30
ETag: W/&#34;1e-KM94dQmY+pgv0Ecd8L77N5qIs0c&#34;
Date: Wed, 24 Nov 2021 04:58:27 GMT
Connection: keep-alive
Keep-Alive: timeout=5

{&#34;error&#34;:<span style=color:#009c00>&#34;Commit does not exist&#34;</span>}
</code></pre></div><h3 id=retrieving-a-tag>Retrieving a Tag</h3>
<p>This API retrieves a tag and its related information from the blockchain. For this, we invoke the <code>getTag</code> smart contract function which returns the <code>Tag</code> object if it exists in the <code>mapping</code>. (Please see the previous section on Smart contracts to understand more.)</p>
<h4 id=api-endpoint-1>API endpoint</h4>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http>POST /v1/tags/{tag_id}
</code></pre></div><h4 id=parameters-1>Parameters</h4>
<table>
<thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>In</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Content-Type</td>
<td>string</td>
<td>header</td>
<td>application/json</td>
</tr>
<tr>
<td>tag_id</td>
<td>string</td>
<td>path</td>
<td>tag name</td>
</tr>
<tr>
<td>repo_url</td>
<td>string</td>
<td>body</td>
<td>repository URL</td>
</tr>
</tbody>
</table>
<h4 id=example-1>Example</h4>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>curl -i -X POST <span style=color:#009c00>&#34;http://localhost:5000/v1/tags/v1.0.0&#34;</span> <span style=color:#009c00>\
</span><span style=color:#009c00></span>    -H <span style=color:#009c00>&#39;Content-Type: application/json&#39;</span> <span style=color:#009c00>\
</span><span style=color:#009c00></span>    -d <span style=color:#009c00>&#39;{&#34;repo_url&#34;: &#34;https://github.com/Immutable-Tag/SmartContacts&#34;}&#39;</span>
</code></pre></div><p>Response:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span style=color:#00f>HTTP</span>/1.1 200 OK
X-Powered-By: Express
Content-Type: application/json; charset=utf-8
Content-Length: 134
ETag: W/&#34;86-aGtC1lmpzo6bWnvAnDjnyX41gHg&#34;
Date: Wed, 24 Nov 2021 04:57:49 GMT
Connection: keep-alive
Keep-Alive: timeout=5

{&#34;repo_url&#34;:<span style=color:#009c00>&#34;https://github.com/Immutable-Tag/SmartContacts&#34;</span>,&#34;tag_id&#34;:<span style=color:#009c00>&#34;v1.0.0&#34;</span>,&#34;commit_id&#34;:<span style=color:#009c00>&#34;66190b9fc987cb12c3a302c84123122e68ef6450&#34;</span>}
</code></pre></div><p>If we try to get a non-existent tag, the response looks like:</p>
<div class=highlight><pre tabindex=0 style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-http data-lang=http><span style=color:#00f>HTTP</span>/1.1 404 Not Found
X-Powered-By: Express
Content-Type: application/json; charset=utf-8
Content-Length: 30
ETag: W/&#34;1e-Tox4M2y0N7WkRGDAFErMm9hsPbA&#34;
Date: Wed, 24 Nov 2021 04:57:36 GMT
Connection: keep-alive
Keep-Alive: timeout=5

{&#34;error&#34;:<span style=color:#009c00>&#34;Tag does not exist&#34;</span>}
</code></pre></div><p>You can find the entire code and documentation for our middleware in
<span class=link-wrapper>
<a href=https://github.com/Immutable-Tag/Middleware target=_blank>
this GitHub repository
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
.</p>
<h2 id=the-react-app>The React App</h2>
<p>We have created a frontend using
<span class=link-wrapper>
<a href=https://reactjs.org/ target=_blank>
ReactJS
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
to showcase how to:</p>
<ol>
<li>Create a tag immutably</li>
<li>Retrieve created tag</li>
</ol>
<p align=center>
<img src=./assets/img/Front_Page.png alt=tag width=100%>
</p>
<p align=center>
<i>Home Page</i>
</p>
<h3 id=creating-a-tag>Creating a Tag</h3>
<p>Upon navigating to the create tag page, we can see a form that requires the following fields:</p>
<ol>
<li>The Repository URL for which we wish to create a tag</li>
<li>The tag name</li>
<li>The commit which we wish to map the tag to</li>
</ol>
<p>Optionally, the form also accepts a GitHub token which includes permissions for creating tags in the GitHub repository as well as the blockchain.</p>
<p align=center>
<img src=./assets/img/create_tag.gif alt="create tag" class=middle>
</p>
<p align=center>
<i>Creating a Tag</i>
</p>
<p>A tag is not created in the following scenarios:</p>
<ol>
<li><strong>Tag already exists</strong> - To guarantee immutability, a tag once created cannot be modified. Therefore, trying to map a pre-exisiting tag to a different commit gives an error message <code>Tag already exists</code>.</li>
</ol>
<p align=center>
<img src=./assets/img/tag_already_exists.gif alt="Tag already exists" class=middle>
</p>
<p align=center>
<i>Tag already exists</i>
</p>
<ol start=2>
<li><strong>Commit does not exist</strong> - Trying to create a tag with an invalid commit, i.e. a commit which does not exist in the provided Repository URL gives an error message <code>Commit does not exist</code></li>
</ol>
<p align=center>
<img src=./assets/img/bad_commit.gif alt="Commit does not exist" class=middle>
</p>
<p align=center>
<i>Commit does not exist</i>
</p>
<h3 id=retrieving-a-tag>Retrieving a tag</h3>
<p>Once a tag is created in the blockchain, it can be retrieved by providing:</p>
<ol>
<li>The Repository URL for which we created the tag</li>
<li>The tag name</li>
</ol>
<p align=center>
<img src=./assets/img/get_tag.gif alt="Retrieving a tag" class=lmiddle>
</p>
<p align=center>
<i>Retrieving a tag</i>
</p>
<p>Tag retrieval will be unsuccessful if we pass a tag name that does not exist in the corresponding repository URL.</p>
<p align=center>
<img src=./assets/img/get_tag_fail.gif alt="Failed to retrieve tag" class=lmiddle>
</p>
<p align=center>
<i>Failed to retrieve tag</i>
</p>
<p>You can find the entire code and documentation for our React application in
<span class=link-wrapper>
<a href=https://github.com/Immutable-Tag/ReactApp target=_blank>
this GitHub repository
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
.</p>
<h2 id=application-workflow>Application Workflow</h2>
<p>The sequence diagrams below show the application workflow for creating and retrieving tags:</p>
<p align=center>
<img src=./assets/img/create_tag_seq.png alt="Creating a tag" class=lmiddle-wide>
</p>
<p align=center>
<img src=./assets/img/get_tag_seq.png alt="Retrieving a tag" class=lmiddle>
</p>
<h2 id=demo>Demo</h2>
<h3 id=running-the-application-locally>Running the application locally</h3>
<p>Please refer to
<span class=link-wrapper>
<a href=https://github.com/Immutable-Tag/docs target=_blank>
this link
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
for steps on how to run the application locally. In case you encounter any issues, please create a GitHub issue
<span class=link-wrapper>
<a href=https://github.com/Immutable-Tag/docs/issues target=_blank>
here
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
.</p>
<h3 id=using-the-application>Using the application</h3>
<p>Once you the application running, the following video shows how you can use the application to create tags immutably and retrieve them.</p>
<p align=center>
<video src=./assets/video/ImmutableTagDemo.mp4 alt=demo width=100% controls>
</p>
<p align=center>
<i>Demo video</i>
</p>
<h2 id=future-work>Future Work</h2>
<p>Our team decided to test the idea of tag immutability using Ethereum, which allowed us to quickly build a Proof-of-Concept using smart contracts written in Solidity.</p>
<h3 id=compatibility-with-other-blockchains>Compatibility with other blockchains</h3>
<p>Our next step is to allow our solution to easily plug in any blockchain that supports smart contracts. We would also like to use permissioned blockchains such as
<span class=link-wrapper>
<a href=https://resilientdb.com/ target=_blank>
ResilientDB
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
in order to achieve a higher throughput.</p>
<h3 id=github-oauth-app>GitHub OAuth App</h3>
<p>Currently our application optionally reads a GitHub access token from the UI and creates tags in the GitHub repositories. We would like to instead create a
<span class=link-wrapper>
<a href=https://docs.github.com/en/developers/apps/building-oauth-apps/creating-an-oauth-app target=_blank>
GitHub OAuth App
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
that users can give permissions for creating tags in the repositories they have access to.</p>
<h3 id=compatibility-with-other-vcs>Compatibility with other VCS</h3>
<p>Our current scope is limited to working with git tags for repositories hosted on
<span class=link-wrapper>
<a href=https://github.com target=_blank>
GitHub
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
. In the future, we would like our APIs to be easily consumed by not only other git hosting providers such as
<span class=link-wrapper>
<a href=https://about.gitlab.com/ target=_blank>
GitLab
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
and
<span class=link-wrapper>
<a href=https://bitbucket.org/product/ target=_blank>
Bitbucket
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
, but also hosting providers for
<span class=link-wrapper>
<a href=https://subversion.apache.org/ target=_blank>
Subversion
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
and
<span class=link-wrapper>
<a href=https://www.mercurial-scm.org/ target=_blank>
Mercurial
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
VCS.</p>
<h3 id=automation-with-existing-cicd-workflows>Automation with existing CI/CD workflows</h3>
<p>While our project has a web front-end which makes it easy for our users to use our application, we can also provide Command Line Interface (CLI) tools for interacting with our API. The primary benefit of this would be easy integration into automated CI/CD workflows of engineering teams.</p>
<h3 id=api-authentication>API Authentication</h3>
<p>In the future we will add include authentication for our API using API Keys and also add rate limiting to prevent security attacks.</p>
<h3 id=application-outside-vcs>Application outside VCS</h3>
<p>The concept of tag immutability can be applied to not only VCS, but also other areas where tagging is used. A popular example is that of
<span class=link-wrapper>
<a href=https://www.docker.com/ target=_blank>
Docker
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
tags, where tags point to specific image digests/hashes. As cloud computing continues to be more popular, this will be extremely helpful for
<span class=link-wrapper>
<a href=https://hub.docker.com/ target=_blank>
Docker Hub
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
and cloud providers that have a container registry for storing Docker images. This includes
<span class=link-wrapper>
<a href=https://aws.amazon.com/ target=_blank>
Amazon Web Services
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
,
<span class=link-wrapper>
<a href=https://cloud.google.com/ target=_blank>
Google Cloud Platform
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
,
<span class=link-wrapper>
<a href=https://azure.microsoft.com/ target=_blank>
Microsoft Azure
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
,
<span class=link-wrapper>
<a href=https://www.ibm.com/cloud target=_blank>
IBM Cloud
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
and
<span class=link-wrapper>
<a href=https://www.oracle.com/cloud/ target=_blank>
Oracle Cloud
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
.</p>
<h2 id=about-the-team>About the team</h2>
<p>This product was conceived and developed as part of our coursework for the Fall 2021 class
<span class=link-wrapper>
<a href=https://expolab.org/ecs265-fall2021.html target=_blank>
ECS 265: Distributed Database Systems
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
taught by
<span class=link-wrapper>
<a href=https://cs.ucdavis.edu/directory/mohammad-sadoghi target=_blank>
Prof. Mohammad Sadoghi
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
at the
<span class=link-wrapper>
<a href=https://www.ucdavis.edu/ target=_blank>
University of California, Davis
</a>
<img src=./assets/img/icons/external-link-icon.svg height=12 width=12>
</span>
. Our team consists of following members:</p>
<ol>
<li>Vasudha Jha (
<a href=mailto:vajha@ucdavis.edu>
vajha@ucdavis.edu
</a>
)</li>
<li>Parichaya Chatterji (
<a href=mailto:parichay@ucdavis.edu>
parichay@ucdavis.edu
</a>
)</li>
<li>Anusha Kulkarni (
<a href=mailto:ahkulkarni@ucdavis.edu>
ahkulkarni@ucdavis.edu
</a>
)</li>
<li>Preethi Muruganandam (
<a href=mailto:pmuruganandam@ucdavis.edu>
pmuruganandam@ucdavis.edu
</a>
)</li>
<li>Ashwitha Kassetty (
<a href=mailto:avkassetty@ucdavis.edu>
avkassetty@ucdavis.edu
</a>
)</li>
</ol>
</main>
<script src=./assets/js/uwe-uwe.js type=text/javascript></script>
<script type=text/javascript>UWE_UWE.FOOTNOTES.init(),UWE_UWE.TABS.init()</script></body>
</html>